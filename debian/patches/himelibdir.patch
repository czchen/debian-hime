Description: Add himelibdir
---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: <YYYY-MM-DD>

--- hime-0.9.10.orig/configure
+++ hime-0.9.10/configure
@@ -27,6 +27,7 @@ if [ "$1" = "-h" -o "$1" = "--help" -o "
     echo "  --qt3-moc-path=PATH       : specify the path of \"moc\" command for Qt 3.x"
     echo "  --qt4-moc-path=PATH       : specify the path of \"moc\" command for Qt 4.x"
     echo "  --qt4-im-module-path=PATH : specify the install path for Qt 4.x im-module."
+    echo "  --himelibdir=dir          : runtime path of hime's *.so"
     echo ""
     exit
 fi
@@ -179,6 +180,8 @@ for opt do
   ;;
   --disable-lib64) LIB='lib'
   ;;
+  --himelibdir*) himelibdir=`echo $opt | cut -d '=' -f 2`
+  ;;
   esac
 done
 
@@ -460,6 +463,11 @@ libdir=$prefix/$LIB
 includedir=$prefix/include
 optdir=/opt
 
+if [ -z "$himelibdir" ]; then
+    himelibdir=$libdir/hime
+  fi
+
+
 if [ -z "$CFLAGS" ]; then
   OPTFLAGS="-Wall"
 else
@@ -491,7 +499,7 @@ echo "datadir=\$(DESTDIR)$datadir" >> co
 echo "datadir_r=\$(DESTDIR)$datadir" >> config.mak
 echo "filterdir=\$(datadir_r)/hime/filter" >> config.mak
 echo "libdir=\$(DESTDIR)$libdir" >> config.mak
-echo "himelibdir=\$(libdir)/hime" >> config.mak
+echo "himelibdir=\$(DESTDIR)/$himelibdir" >> config.mak
 echo "includedir=\$(DESTDIR)$includedir" >> config.mak
 echo "LDFLAGS_ENV=$LDFLAGS" >> config.mak
 echo "LDFLAGS=$LDFLAGS -Wl,--as-needed -lX11 -lm" >> config.mak
